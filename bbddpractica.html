<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>BBDD Practica</title>
    <link rel="icon" type="image/x-icon" href="recursos/favicon.ico">
</head>

<body>
    <h1>BBDD Practica</h1>
    <h2>No debe estar creada la base de datos</h2>
    <h2>Ver consola</h2>
    <hr />

    <textarea id="info" cols="120" rows="20"></textarea>

    <script type="text/javascript">
        var peticion, bd, almacenPersonas, almacenCoches, almacenCiudades;

        function mensaje(texto) {
            document.getElementById("info").value += "\n\n" + texto;
        }


        var peticion, bd, almacenAutor, almacenGenero, almacenAutorGenero, almacenConcierto, almacenAutorConcierto, almacenAlbum, almacenAutorAlbum, almacenPista, almacenLista, almacenPistaLista;

        if (window.indexedDB) {
            peticion = window.indexedDB.open("musica", 1);

            peticion.onsuccess = function (evento) {
                //Escribir el código para realizar consultas, inserciones, etc...(DML)
                mensaje("EVENTO: success\nSe ha abierto correctamente la base de datos: " + peticion.result.name + " con versión " + peticion.result.version);

                bd = peticion.result;
                var transaccion = bd.transaction(bd.objectStoreNames, "readwrite");

                /*************** AUTORES *************/
                almacenAutor = transaccion.objectStore("autor");
                almacenAutor.add({ id: 1, nombre: "Desakato", email: "desakato@gmail.com", password: "Desakato1", fecha_creacion: new Date().toLocaleDateString(), origen: "Asturias, España", foto_perfil: "/", fondo_perfil: "/" });
                almacenAutor.add({ id: 2, nombre: "Mono Inc.", email: "monoinc@gmail.com", password: "Monoinc1", fecha_creacion: new Date().toLocaleDateString(), origen: "Hamburgo, Alemania", foto_perfil: "/", fondo_perfil: "/" });
                almacenAutor.add({ id: 3, nombre: "Lord of the Lost", email: "lordofthelost@gmail.com", password: "Lordofthelost1", fecha_creacion: new Date().toLocaleDateString(), origen: "Hamburgo, Alemania", foto_perfil: "/", fondo_perfil: "/" });
                almacenAutor.add({ id: 4, nombre: "Jinjer", email: "jinjer@gmail.com", password: "Jinjer1", fecha_creacion: new Date().toLocaleDateString(), origen: "Ucrania", foto_perfil: "/", fondo_perfil: "/" });
                almacenAutor.add({ id: 5, nombre: "La Raíz", email: "laraiz@gmail.com", password: "Laraiz1", fecha_creacion: new Date().toLocaleDateString(), origen: "Valencia, España", foto_perfil: "/", fondo_perfil: "/" });
                almacenAutor.add({ id: 6, nombre: "Extremoduro", email: "extremoduro@gmail.com", password: "Extremoduro1", fecha_creacion: new Date().toLocaleDateString(), origen: "Cáceres, España", foto_perfil: "/", fondo_perfil: "/" });

                /*************** GENERO *************/
                almacenGenero = transaccion.objectStore("genero");
                almacenGenero.add({ id: 1, nombre: "Hard rock" });
                almacenGenero.add({ id: 2, nombre: "Ska" });
                almacenGenero.add({ id: 3, nombre: "Rock" });
                almacenGenero.add({ id: 4, nombre: "Reggae" });
                almacenGenero.add({ id: 5, nombre: "Fusion" });
                almacenGenero.add({ id: 6, nombre: "Rap" });
                almacenGenero.add({ id: 7, nombre: "Metal progresivo" });
                almacenGenero.add({ id: 8, nombre: "Groove metal" });
                almacenGenero.add({ id: 9, nombre: "Metalcore" });
                almacenGenero.add({ id: 10, nombre: "Djent" });
                almacenGenero.add({ id: 11, nombre: "Death Metal progresivo" });
                almacenGenero.add({ id: 12, nombre: "Metal gótico" });
                almacenGenero.add({ id: 13, nombre: "Metal industrial" });
                almacenGenero.add({ id: 14, nombre: "Rock gótico" });
                almacenGenero.add({ id: 15, nombre: "Punk" });
                almacenGenero.add({ id: 16, nombre: "Rock alternativo" });

                /*************** AUTOR_GENERO *************/
                almacenAutorGenero = transaccion.objectStore("autorGenero");
                //Desakato
                almacenAutorGenero.add({ idAutor: 1, idGenero: 3 });
                almacenAutorGenero.add({ idAutor: 1, idGenero: 15 });
                //Mono Inc.
                almacenAutorGenero.add({ idAutor: 2, idGenero: 16 });
                almacenAutorGenero.add({ idAutor: 2, idGenero: 14 });
                almacenAutorGenero.add({ idAutor: 2, idGenero: 12 });
                almacenAutorGenero.add({ idAutor: 2, idGenero: 13 });
                //Lord of the Lost
                almacenAutorGenero.add({ idAutor: 3, idGenero: 12 });
                almacenAutorGenero.add({ idAutor: 3, idGenero: 13 });
                almacenAutorGenero.add({ idAutor: 3, idGenero: 14 });
                almacenAutorGenero.add({ idAutor: 3, idGenero: 1 });
                //Jinjer
                almacenAutorGenero.add({ idAutor: 4, idGenero: 7 });
                almacenAutorGenero.add({ idAutor: 4, idGenero: 8 });
                almacenAutorGenero.add({ idAutor: 4, idGenero: 9 });
                almacenAutorGenero.add({ idAutor: 4, idGenero: 10 });
                almacenAutorGenero.add({ idAutor: 4, idGenero: 11 });
                //La Raíz
                almacenAutorGenero.add({ idAutor: 5, idGenero: 2 });
                almacenAutorGenero.add({ idAutor: 5, idGenero: 3 });
                almacenAutorGenero.add({ idAutor: 5, idGenero: 4 });
                almacenAutorGenero.add({ idAutor: 5, idGenero: 5 });
                almacenAutorGenero.add({ idAutor: 5, idGenero: 6 });
                //Extremoduro
                almacenAutorGenero.add({ idAutor: 6, idGenero: 1 });

                /*************** CONCIERTO *************/
                almacenConcierto = transaccion.objectStore("concierto");
                almacenConcierto.add({ id: 1, nombre: "Viñarock", latitud: "/", longitud: "/", fecha: new Date().toLocaleDateString() });

                /*************** AUTOR_CONCIERTO *************/
                almacenAutorConcierto = transaccion.objectStore("autorConcierto");
                //Desakato
                almacenAutorConcierto.add({ idAutor: 1, idConcierto: 1 });

                /*************** ALBUM *************/
                almacenAlbum = transaccion.objectStore("album");
                //Desakato
                almacenAlbum.add({ id: 1, nombre: "Con el viento de cara", lanzamiento: "2008", caratula: "img/con-el-viento-de-cara-200x200.jpg" });
                almacenAlbum.add({ id: 2, nombre: "Miseria, sangre y plomo", lanzamiento: "2010", caratula: "img/miseria-sangre-y-plomo-200x200.jpg" });
                almacenAlbum.add({ id: 3, nombre: "Inercia", lanzamiento: "2012", caratula: "img/inercia-200x200.jpg" });
                almacenAlbum.add({ id: 4, nombre: "Buen Viaje", lanzamiento: "2014", caratula: "img/buen-viaje-200x200.jpg" });
                almacenAlbum.add({ id: 5, nombre: "La teoría del fuego", lanzamiento: "2016", caratula: "img/la-teoria-del-fuego-200x200.jpg" });
                almacenAlbum.add({ id: 6, nombre: "Antártida", lanzamiento: "2018", caratula: "img/antartida-200x200.jpg" });
                almacenAlbum.add({ id: 7, nombre: "La miel de las flores muertas", lanzamiento: "2020", caratula: "img/la-miel-de-las-flores-muertas-200x200.jpg" });
                //Mono Inc.
                almacenAlbum.add({ id: 8, nombre: "Head Under Water", lanzamiento: "2004", caratula: "img/head-under-water-200x200.jpg" });
                almacenAlbum.add({ id: 9, nombre: "Temple of the Torn", lanzamiento: "2007", caratula: "img/temple-of-the-torn-200x200.jpg" });
                almacenAlbum.add({ id: 10, nombre: "Pain, Love & Poetry", lanzamiento: "2008", caratula: "img/pain-love-poetry-200x200.jpg" });
                almacenAlbum.add({ id: 11, nombre: "Voices of Doom", lanzamiento: "2009", caratula: "img/voices-of-doom-200x200.jpg" });
                almacenAlbum.add({ id: 12, nombre: "Viva Hades", lanzamiento: "2011", caratula: "img/viva-hades-200x200.jpg" });
                almacenAlbum.add({ id: 13, nombre: "After the War", lanzamiento: "2012", caratula: "img/after-the-war-200x200.jpg" });
                almacenAlbum.add({ id: 14, nombre: "Nimmermehr", lanzamiento: "2013", caratula: "img/nimmermehr-200x200.jpg" });
                almacenAlbum.add({ id: 15, nombre: "Terlingua", lanzamiento: "2015", caratula: "img/terlingua-200x200.jpg" });
                almacenAlbum.add({ id: 16, nombre: "Together Till the End", lanzamiento: "2017", caratula: "img/together-till-the-end-200x200.jpg" });
                almacenAlbum.add({ id: 17, nombre: "Welcome to Hell", lanzamiento: "2018", caratula: "img/welcome-to-hell-200x200.jpg" });
                almacenAlbum.add({ id: 18, nombre: "The Book of Fire", lanzamiento: "2020", caratula: "img/the-book-of-fire-200x200.jpg" });
                //Lord of the Lost
                almacenAlbum.add({ id: 19, nombre: "Fears", lanzamiento: "2010", caratula: "img/fears-200x200.jpg" });
                almacenAlbum.add({ id: 20, nombre: "Antagony", lanzamiento: "2011", caratula: "img/antagony-200x200.jpg" });
                almacenAlbum.add({ id: 21, nombre: "Die Tomorrow", lanzamiento: "2012", caratula: "img/die-tomorrow-200x200.jpg" });
                almacenAlbum.add({ id: 22, nombre: "From the Flame Into the Fire", lanzamiento: "2014", caratula: "img/from-the-flames-into-the-fire-200x200.jpg" });
                almacenAlbum.add({ id: 23, nombre: "Empyrean", lanzamiento: "2016", caratula: "img/empyrean-200x200.jpg" });
                almacenAlbum.add({ id: 24, nombre: "Thornstar", lanzamiento: "2018", caratula: "img/thornstar-200x200.jpg" });
                //Jinjer
                almacenAlbum.add({ id: 25, nombre: "Inhale, Don't Breathe", lanzamiento: "2012", caratula: "img/inhale-dont-breathe-200x200.jpg" });
                almacenAlbum.add({ id: 26, nombre: "Cloud Factory", lanzamiento: "2014", caratula: "img/cloud-factory-200x200.jpg" });
                almacenAlbum.add({ id: 27, nombre: "King of Everything", lanzamiento: "2016", caratula: "img/king-of-everything-200x200.jpg" });
                almacenAlbum.add({ id: 28, nombre: "Macro", lanzamiento: "2019", caratula: "img/macro-200x200.jpg" });
                //La Raíz
                almacenAlbum.add({ id: 29, nombre: "Guerra al Silencio", lanzamiento: "2009", caratula: "img/guerra-al-silencio-200x200.jpg" });
                almacenAlbum.add({ id: 30, nombre: "El Lado de los Rebeldes", lanzamiento: "2011", caratula: "img/el-lado-de-los-rebeldes-200x200.jpg" });
                almacenAlbum.add({ id: 31, nombre: "Así en el Cielo cmo en la Selva", lanzamiento: "2013", caratula: "img/asi-en-el-cielo-como-en-la-selva-200x200.jpg" });
                almacenAlbum.add({ id: 32, nombre: "Entre Poetas y Presos", lanzamiento: "2016", caratula: "img/entre-poetas-y-presos-200x200.jpg" });
                almacenAlbum.add({ id: 33, nombre: "Nos Volveremos a Ver", lanzamiento: "2018", caratula: "img/nos-volveremos-a-ver-200x200.jpg" });
                //Extremoduro
                almacenAlbum.add({ id: 34, nombre: "Rock transgresivo", lanzamiento: "1989", caratula: "img/rock-transgresivo-200x200.jpg" });
                almacenAlbum.add({ id: 35, nombre: "Somos unos animales", lanzamiento: "1991", caratula: "img/somos-unos-animales-200x200.jpg" });
                almacenAlbum.add({ id: 36, nombre: "Deltoya", lanzamiento: "1992", caratula: "img/deltoya-200x200.jpg" });
                almacenAlbum.add({ id: 37, nombre: "¿Dónde están mis amigos?", lanzamiento: "1993", caratula: "img/donde-esta-mis-amigos-200x200.jpg" });
                almacenAlbum.add({ id: 38, nombre: "Pedrá", lanzamiento: "1995", caratula: "img/pedra-200x200.jpg" });
                almacenAlbum.add({ id: 39, nombre: "Agila", lanzamiento: "1996", caratula: "img/agila-200x200.jpg" });
                almacenAlbum.add({ id: 40, nombre: "Canciones prohibidas", lanzamiento: "1998", caratula: "img/canciones-prohibidas-200x200.jpg" });
                almacenAlbum.add({ id: 41, nombre: "Yo, minoría absoluta", lanzamiento: "2002", caratula: "img/yo-minoria-absoluta-200x200.jpg" });
                almacenAlbum.add({ id: 42, nombre: "La ley innata", lanzamiento: "2008", caratula: "img/la-ley-innata-200x200.jpg" });
                almacenAlbum.add({ id: 43, nombre: "Material defectuoso", lanzamiento: "2011", caratula: "img/material-defectuoso-200x200.jpg" });
                almacenAlbum.add({ id: 44, nombre: "Para todos los públicos", lanzamiento: "2013", caratula: "img/para-todos-los-publicos-200x200.jpg" });

                /*************** AUTOR_ALBUM *************/
                almacenAutorAlbum = transaccion.objectStore("autorAlbum");
                //Desakato
                for (var i = 1; i <= 7; i++) {
                    almacenAutorAlbum.add({
                        idAutor: 1,
                        idAlbum: i
                    });
                }
                //Mono Inc.
                for (var i = 8; i <= 18; i++) {
                    almacenAutorAlbum.add({
                        idAutor: 2,
                        idAlbum: i
                    });
                }
                //Lord of the Lost
                for (var i = 19; i <= 24; i++) {
                    almacenAutorAlbum.add({
                        idAutor: 3,
                        idAlbum: i
                    });
                }
                //Jinjer
                for (var i = 25; i <= 28; i++) {
                    almacenAutorAlbum.add({
                        idAutor: 4,
                        idAlbum: i
                    });
                }
                //La Raíz
                for (var i = 29; i <= 33; i++) {
                    almacenAutorAlbum.add({
                        idAutor: 5,
                        idAlbum: i
                    });
                }
                //Extremoduro
                for (var i = 34; i <= 44; i++) {
                    almacenAutorAlbum.add({
                        idAutor: 6,
                        idAlbum: i
                    });
                }

                /*************** PISTA *************/
                almacenPista = transaccion.objectStore("pista");
                //Desakato
                almacenPista.add({ id: 1, nombre: "Ritcher 7.5", archivo: "/", idAlbum: 1 });
                almacenPista.add({ id: 2, nombre: "Los mineros", archivo: "/", idAlbum: 1 });
                almacenPista.add({ id: 3, nombre: "Tu disfraz", archivo: "/", idAlbum: 1 });
                almacenPista.add({ id: 4, nombre: "Contra el dolor", archivo: "/", idAlbum: 1 });
                almacenPista.add({ id: 5, nombre: "África", archivo: "/", idAlbum: 2 });
                almacenPista.add({ id: 6, nombre: "En el Ojo Ajerno", archivo: "/", idAlbum: 2 });
                almacenPista.add({ id: 7, nombre: "Cada Vez", archivo: "/", idAlbum: 2 });
                almacenPista.add({ id: 8, nombre: "Contra la Pared", archivo: "/", idAlbum: 2 });
                almacenPista.add({ id: 9, nombre: "...", archivo: "/", idAlbum: 3 });
                almacenPista.add({ id: 10, nombre: "Iceberg", archivo: "/", idAlbum: 3 });
                almacenPista.add({ id: 11, nombre: "R.I.P.", archivo: "/", idAlbum: 3 });
                almacenPista.add({ id: 12, nombre: "Cuando Salga el Sol", archivo: "/", idAlbum: 3 });
                almacenPista.add({ id: 13, nombre: "Estepa", archivo: "/", idAlbum: 4 });
                almacenPista.add({ id: 14, nombre: "Héroes", archivo: "/", idAlbum: 4 });
                almacenPista.add({ id: 15, nombre: "La Tormenta", archivo: "/", idAlbum: 4 });
                almacenPista.add({ id: 16, nombre: "Pánico en Frankfurt", archivo: "/", idAlbum: 4 });
                almacenPista.add({ id: 17, nombre: "Tiempos de Cobardes", archivo: "/", idAlbum: 5 });
                almacenPista.add({ id: 18, nombre: "Animales Hambrientos", archivo: "/", idAlbum: 5 });
                almacenPista.add({ id: 19, nombre: "Estigma", archivo: "/", idAlbum: 5 });
                almacenPista.add({ id: 20, nombre: "Heridas Abiertas", archivo: "/", idAlbum: 5 });
                almacenPista.add({ id: 21, nombre: "Humo Negro", archivo: "/", idAlbum: 6 });
                almacenPista.add({ id: 22, nombre: "Salvajes", archivo: "/", idAlbum: 6 });
                almacenPista.add({ id: 23, nombre: "La Cura", archivo: "/", idAlbum: 6 });
                almacenPista.add({ id: 24, nombre: "Huellas", archivo: "/", idAlbum: 6 });
                almacenPista.add({ id: 25, nombre: "Apátridas", archivo: "/", idAlbum: 7 });
                almacenPista.add({ id: 26, nombre: "Hipnotizados", archivo: "/", idAlbum: 7 });
                almacenPista.add({ id: 27, nombre: "Nuestro Legado", archivo: "/", idAlbum: 7 });
                almacenPista.add({ id: 28, nombre: "Elegante Entierro", archivo: "/", idAlbum: 7 });
                //Mono Inc.
                almacenPista.add({ id: 29, nombre: "Burn Me", archivo: "/", idAlbum: 8 });
                almacenPista.add({ id: 30, nombre: "The Last Waltz", archivo: "/", idAlbum: 8 });
                almacenPista.add({ id: 31, nombre: "The Hole", archivo: "/", idAlbum: 8 });
                almacenPista.add({ id: 32, nombre: "Superman", archivo: "/", idAlbum: 8 });
                almacenPista.add({ id: 33, nombre: "Temple Of The Torn", archivo: "/", idAlbum: 9 });
                almacenPista.add({ id: 34, nombre: "Won't Forget This Day", archivo: "/", idAlbum: 9 });
                almacenPista.add({ id: 35, nombre: "The Condemned", archivo: "/", idAlbum: 9 });
                almacenPista.add({ id: 36, nombre: "Two Sinners", archivo: "/", idAlbum: 9 });
                almacenPista.add({ id: 37, nombre: "Pain, Love & Poetry", archivo: "/", idAlbum: 10 });
                almacenPista.add({ id: 38, nombre: "This Is The Day", archivo: "/", idAlbum: 10 });
                almacenPista.add({ id: 39, nombre: "The Last Waltz (Album version)", archivo: "/", idAlbum: 10 });
                almacenPista.add({ id: 40, nombre: "Teach Me To Love (Album version)", archivo: "/", idAlbum: 10 });
                almacenPista.add({ id: 41, nombre: "Voices of Doom", archivo: "/", idAlbum: 11 });
                almacenPista.add({ id: 42, nombre: "Gothic Queen", archivo: "/", idAlbum: 11 });
                almacenPista.add({ id: 43, nombre: "Pain", archivo: "/", idAlbum: 11 });
                almacenPista.add({ id: 44, nombre: "If I Fail", archivo: "/", idAlbum: 11 });
                almacenPista.add({ id: 45, nombre: "Admiration Hill", archivo: "/", idAlbum: 12 });
                almacenPista.add({ id: 46, nombre: "Symphony Of Pain", archivo: "/", idAlbum: 12 });
                almacenPista.add({ id: 47, nombre: "A Love That Never Dies", archivo: "/", idAlbum: 12 });
                almacenPista.add({ id: 48, nombre: "Viva Hades", archivo: "/", idAlbum: 12 });
                almacenPista.add({ id: 49, nombre: "My Worst Enemy", archivo: "/", idAlbum: 13 });
                almacenPista.add({ id: 50, nombre: "No More Fear", archivo: "/", idAlbum: 13 });
                almacenPista.add({ id: 51, nombre: "After The War", archivo: "/", idAlbum: 13 });
                almacenPista.add({ id: 52, nombre: "Wave No Flag", archivo: "/", idAlbum: 13 });
                almacenPista.add({ id: 53, nombre: "Heile, Heile Segen", archivo: "/", idAlbum: 14 });
                almacenPista.add({ id: 54, nombre: "Seligkeit", archivo: "/", idAlbum: 14 });
                almacenPista.add({ id: 55, nombre: "My Deal With God", archivo: "/", idAlbum: 14 });
                almacenPista.add({ id: 56, nombre: "Kein Weg Zu Weit", archivo: "/", idAlbum: 14 });
                almacenPista.add({ id: 57, nombre: "Mondschein", archivo: "/", idAlbum: 15 });
                almacenPista.add({ id: 58, nombre: "Never-Ending Love Song", archivo: "/", idAlbum: 15 });
                almacenPista.add({ id: 59, nombre: "Heiland", archivo: "/", idAlbum: 15 });
                almacenPista.add({ id: 60, nombre: "It Never Rains", archivo: "/", idAlbum: 15 });
                almacenPista.add({ id: 61, nombre: "The Banks of Eden", archivo: "/", idAlbum: 16 });
                almacenPista.add({ id: 62, nombre: "Together Till The End", archivo: "/", idAlbum: 16 });
                almacenPista.add({ id: 63, nombre: "Boatman", archivo: "/", idAlbum: 16 });
                almacenPista.add({ id: 64, nombre: "Out In The Fields", archivo: "/", idAlbum: 16 });
                almacenPista.add({ id: 65, nombre: "The Heart Of The Raven", archivo: "/", idAlbum: 17 });
                almacenPista.add({ id: 66, nombre: "Welcome To Hell", archivo: "/", idAlbum: 17 });
                almacenPista.add({ id: 67, nombre: "Long Live Death", archivo: "/", idAlbum: 17 });
                almacenPista.add({ id: 68, nombre: "Risk It All", archivo: "/", idAlbum: 17 });
                almacenPista.add({ id: 69, nombre: "The Book Of Fire", archivo: "/", idAlbum: 18 });
                almacenPista.add({ id: 70, nombre: "Louder Than Hell", archivo: "/", idAlbum: 18 });
                almacenPista.add({ id: 71, nombre: "Warriors", archivo: "/", idAlbum: 18 });
                almacenPista.add({ id: 72, nombre: "Shining Light", archivo: "/", idAlbum: 18 });
                //Lord of the Lost
                almacenPista.add({ id: 73, nombre: "Last Words", archivo: "/", idAlbum: 19 });
                almacenPista.add({ id: 74, nombre: "Break Your Heart", archivo: "/", idAlbum: 19 });
                almacenPista.add({ id: 75, nombre: "Dry The Rain", archivo: "/", idAlbum: 19 });
                almacenPista.add({ id: 76, nombre: "My Deepest Fear", archivo: "/", idAlbum: 19 });
                almacenPista.add({ id: 77, nombre: "Preludium: About Love, Death & The Devil", archivo: "/", idAlbum: 20 });
                almacenPista.add({ id: 78, nombre: "We Are The Lost", archivo: "/", idAlbum: 20 });
                almacenPista.add({ id: 79, nombre: "Sex On Legs", archivo: "/", idAlbum: 20 });
                almacenPista.add({ id: 80, nombre: "Fragmenting Façade", archivo: "/", idAlbum: 20 });
                almacenPista.add({ id: 81, nombre: "Live Today", archivo: "/", idAlbum: 21 });
                almacenPista.add({ id: 82, nombre: "Die Tomorrow", archivo: "/", idAlbum: 21 });
                almacenPista.add({ id: 83, nombre: "Black Lolita", archivo: "/", idAlbum: 21 });
                almacenPista.add({ id: 84, nombre: "Blood For Blood", archivo: "/", idAlbum: 21 });
                almacenPista.add({ id: 85, nombre: "Fists Up In The Air", archivo: "/", idAlbum: 22 });
                almacenPista.add({ id: 86, nombre: "Kingdom Come", archivo: "/", idAlbum: 22 });
                almacenPista.add({ id: 87, nombre: "La Bomba", archivo: "/", idAlbum: 22 });
                almacenPista.add({ id: 88, nombre: "Afterlife", archivo: "/", idAlbum: 22 });
                almacenPista.add({ id: 89, nombre: "Miss Machine", archivo: "/", idAlbum: 23 });
                almacenPista.add({ id: 90, nombre: "Drag Me To Hell", archivo: "/", idAlbum: 23 });
                almacenPista.add({ id: 91, nombre: "The Love Of God", archivo: "/", idAlbum: 23 });
                almacenPista.add({ id: 92, nombre: "Raining Stars", archivo: "/", idAlbum: 23 });
                almacenPista.add({ id: 93, nombre: "On This Rock I Will Build My Church", archivo: "/", idAlbum: 24 });
                almacenPista.add({ id: 94, nombre: "Loreley", archivo: "/", idAlbum: 24 });
                almacenPista.add({ id: 95, nombre: "Black Halo", archivo: "/", idAlbum: 24 });
                almacenPista.add({ id: 96, nombre: "In Our Hands", archivo: "/", idAlbum: 24 });
                //Jinjer
                almacenPista.add({ id: 97, nombre: "Until The End", archivo: "/", idAlbum: 25 });
                almacenPista.add({ id: 98, nombre: "Waltz", archivo: "/", idAlbum: 25 });
                almacenPista.add({ id: 99, nombre: "Scissors", archivo: "/", idAlbum: 25 });
                almacenPista.add({ id: 100, nombre: "Exposed As A Liar", archivo: "/", idAlbum: 25 });
                almacenPista.add({ id: 101, nombre: "Outlander", archivo: "/", idAlbum: 26 });
                almacenPista.add({ id: 102, nombre: "A Plus Or A Minus", archivo: "/", idAlbum: 26 });
                almacenPista.add({ id: 103, nombre: "No Hoard Of Value", archivo: "/", idAlbum: 26 });
                almacenPista.add({ id: 104, nombre: "Cloud Factory", archivo: "/", idAlbum: 26 });
                almacenPista.add({ id: 105, nombre: "Prologue", archivo: "/", idAlbum: 27 });
                almacenPista.add({ id: 106, nombre: "Captains Clock", archivo: "/", idAlbum: 27 });
                almacenPista.add({ id: 107, nombre: "Words Of Wisdom", archivo: "/", idAlbum: 27 });
                almacenPista.add({ id: 108, nombre: "Just Another", archivo: "/", idAlbum: 27 });
                almacenPista.add({ id: 109, nombre: "On The Top", archivo: "/", idAlbum: 28 });
                almacenPista.add({ id: 110, nombre: "Pit Of Consciousness", archivo: "/", idAlbum: 28 });
                almacenPista.add({ id: 111, nombre: "Judgement (& Punishment)", archivo: "/", idAlbum: 28 });
                almacenPista.add({ id: 112, nombre: "Retrospection", archivo: "/", idAlbum: 28 });
                //La Raíz
                almacenPista.add({ id: 113, nombre: "Intro", archivo: "/", idAlbum: 29 });
                almacenPista.add({ id: 114, nombre: "Malos Tiempos", archivo: "/", idAlbum: 29 });
                almacenPista.add({ id: 115, nombre: "Pobre Manuel", archivo: "/", idAlbum: 29 });
                almacenPista.add({ id: 116, nombre: "África", archivo: "/", idAlbum: 29 });
                almacenPista.add({ id: 117, nombre: "El Lado de los Rebeldes", archivo: "/", idAlbum: 30 });
                almacenPista.add({ id: 118, nombre: "La Voz", archivo: "/", idAlbum: 30 });
                almacenPista.add({ id: 119, nombre: "De Mar en Mar", archivo: "/", idAlbum: 30 });
                almacenPista.add({ id: 120, nombre: "Noches en Babilón", archivo: "/", idAlbum: 30 });
                almacenPista.add({ id: 121, nombre: "Jilgueros", archivo: "/", idAlbum: 31 });
                almacenPista.add({ id: 122, nombre: "Nuestra Nación", archivo: "/", idAlbum: 31 });
                almacenPista.add({ id: 123, nombre: "A la Sombra de la Sierra", archivo: "/", idAlbum: 31 });
                almacenPista.add({ id: 124, nombre: "Llueve en Semana Santa", archivo: "/", idAlbum: 31 });
                almacenPista.add({ id: 125, nombre: "Intro 'Las Miserias de sus Crímenes'", archivo: "/", idAlbum: 32 });
                almacenPista.add({ id: 126, nombre: "Entre Poetas y Presos", archivo: "/", idAlbum: 32 });
                almacenPista.add({ id: 127, nombre: "Rueda la Corona", archivo: "/", idAlbum: 32 });
                almacenPista.add({ id: 128, nombre: "Por Favor", archivo: "/", idAlbum: 32 });
                almacenPista.add({ id: 129, nombre: "Intro 'Las Miserias de sus Crímenes'", archivo: "/", idAlbum: 33 });
                almacenPista.add({ id: 130, nombre: "Entre Poetas y Presos", archivo: "/", idAlbum: 33 });
                almacenPista.add({ id: 131, nombre: "Borracha y Callejera", archivo: "/", idAlbum: 33 });
                almacenPista.add({ id: 132, nombre: "La Voz", archivo: "/", idAlbum: 33 });
                //Extremoduro
                almacenPista.add({ id: 133, nombre: "Extremaydura", archivo: "/", idAlbum: 34 });
                almacenPista.add({ id: 134, nombre: "Emparedado", archivo: "/", idAlbum: 34 });
                almacenPista.add({ id: 135, nombre: "Decidí", archivo: "/", idAlbum: 34 });
                almacenPista.add({ id: 136, nombre: "Romperás", archivo: "/", idAlbum: 34 });
                almacenPista.add({ id: 137, nombre: "Tu Corazón", archivo: "/", idAlbum: 35 });
                almacenPista.add({ id: 138, nombre: "La Canción De Los Oficios", archivo: "/", idAlbum: 35 });
                almacenPista.add({ id: 139, nombre: "Quemando Tus Recuerdos", archivo: "/", idAlbum: 35 });
                almacenPista.add({ id: 140, nombre: "V Centenario", archivo: "/", idAlbum: 35 });
                almacenPista.add({ id: 141, nombre: "Sol De Invierno", archivo: "/", idAlbum: 36 });
                almacenPista.add({ id: 142, nombre: "De Acero", archivo: "/", idAlbum: 36 });
                almacenPista.add({ id: 143, nombre: "Última Generación", archivo: "/", idAlbum: 36 });
                almacenPista.add({ id: 144, nombre: "Lucha Contigo", archivo: "/", idAlbum: 36 });
                almacenPista.add({ id: 145, nombre: "El Duende Del Parque", archivo: "/", idAlbum: 37 });
                almacenPista.add({ id: 146, nombre: "No Me Calientes Que Me Hundo", archivo: "/", idAlbum: 37 });
                almacenPista.add({ id: 147, nombre: "Sin Dios Ni Amo", archivo: "/", idAlbum: 37 });
                almacenPista.add({ id: 148, nombre: "Pepe Botika (¿Dónde Están Mis Amigos?)", archivo: "/", idAlbum: 37 });
                almacenPista.add({ id: 149, nombre: "Pedrá", archivo: "/", idAlbum: 38 });
                almacenPista.add({ id: 150, nombre: "Buscando Una Luna", archivo: "/", idAlbum: 39 });
                almacenPista.add({ id: 151, nombre: "Prometeo", archivo: "/", idAlbum: 39 });
                almacenPista.add({ id: 152, nombre: "Sucede", archivo: "/", idAlbum: 39 });
                almacenPista.add({ id: 153, nombre: "So Payaso", archivo: "/", idAlbum: 39 });
                almacenPista.add({ id: 154, nombre: "Salir", archivo: "/", idAlbum: 40 });
                almacenPista.add({ id: 155, nombre: "Esclarecido", archivo: "/", idAlbum: 40 });
                almacenPista.add({ id: 156, nombre: "Érase Una Vez", archivo: "/", idAlbum: 40 });
                almacenPista.add({ id: 157, nombre: "Golfa", archivo: "/", idAlbum: 40 });
                almacenPista.add({ id: 158, nombre: "A Fuego", archivo: "/", idAlbum: 41 });
                almacenPista.add({ id: 159, nombre: "La Vereda De La Puerta De Atrás", archivo: "/", idAlbum: 41 });
                almacenPista.add({ id: 160, nombre: "Hoy Te La Meto Hasta Las Orejas", archivo: "/", idAlbum: 41 });
                almacenPista.add({ id: 161, nombre: "Standby", archivo: "/", idAlbum: 41 });
                almacenPista.add({ id: 162, nombre: "Dulce Introducción Al Caos", archivo: "/", idAlbum: 42 });
                almacenPista.add({ id: 163, nombre: "Primer Movimiento: El Sueño", archivo: "/", idAlbum: 42 });
                almacenPista.add({ id: 164, nombre: "Segundo Movimiento: Lo De Fuera", archivo: "/", idAlbum: 42 });
                almacenPista.add({ id: 165, nombre: "Tercer Movimiento: Lo De Dentro", archivo: "/", idAlbum: 42 });
                almacenPista.add({ id: 166, nombre: "Desarraigo", archivo: "/", idAlbum: 43 });
                almacenPista.add({ id: 167, nombre: "Mi Espíritu Imperecedero", archivo: "/", idAlbum: 43 });
                almacenPista.add({ id: 168, nombre: "Otra Inútil Canción Para La Paz", archivo: "/", idAlbum: 43 });
                almacenPista.add({ id: 169, nombre: "Si Te Vas...", archivo: "/", idAlbum: 43 });
                almacenPista.add({ id: 170, nombre: "Locura Transitoria", archivo: "/", idAlbum: 44 });
                almacenPista.add({ id: 171, nombre: "Entre Interiores", archivo: "/", idAlbum: 44 });
                almacenPista.add({ id: 172, nombre: "¡Qué Borde Era Mi Valle!", archivo: "/", idAlbum: 44 });
                almacenPista.add({ id: 173, nombre: "Poema Sobrecogido", archivo: "/", idAlbum: 44 });

                /*************** LISTA *************/
                almacenLista = transaccion.objectStore("lista");
                almacenLista.add({ id: 1, nombre: "Desakato - Favoritas", fecha: new Date().toLocaleDateString(), idAutor: 1 });

                /*************** PISTA_LISTA *************/
                almacenPistaLista = transaccion.objectStore("pistaLista");
                almacenPistaLista.add({ idPista: 5, idLista: 1 });
                almacenPistaLista.add({ idPista: 7, idLista: 1 });
                almacenPistaLista.add({ idPista: 8, idLista: 1 });
                almacenPistaLista.add({ idPista: 10, idLista: 1 });
                almacenPistaLista.add({ idPista: 12, idLista: 1 });
                almacenPistaLista.add({ idPista: 13, idLista: 1 });
                almacenPistaLista.add({ idPista: 14, idLista: 1 });
                almacenPistaLista.add({ idPista: 15, idLista: 1 });
                almacenPistaLista.add({ idPista: 17, idLista: 1 });
                almacenPistaLista.add({ idPista: 22, idLista: 1 });
                almacenPistaLista.add({ idPista: 23, idLista: 1 });
                almacenPistaLista.add({ idPista: 25, idLista: 1 });
            };

            peticion.onerror = function (evento) {
                alert("No se ha creado la base de datos: " + event.target.errorCode);
            };

            peticion.onupgradeneeded = function (evento) {
                //Escribir el código para crear o modificar la estructura de la BD (DDL)
                //Recordatorio: Este evento sólo se ejecuta si se abre la base de datos con una versión nueva superior

                mensaje("EVENTO: upgradedneeded\nSe modifica la versión o es nueva");
                bd = peticion.result;

                /***** Tabla almacenAutor *****/
                almacenAutor = bd.createObjectStore("autor", { keyPath: "id", autoIncrement: true });

                /***** Tabla almacenGenero *****/
                almacenGenero = bd.createObjectStore("genero", { keyPath: "id", autoIncrement: true });

                /***** Tabla almacenAutorGenero *****/
                almacenAutorGenero = bd.createObjectStore("autorGenero", { keyPath: ["idAutor", "idGenero"] });

                /***** Tabla almacenConcierto *****/
                almacenConcierto = bd.createObjectStore("concierto", { keyPath: "id", autoIncrement: true });

                /***** Tabla almacenAutorConcierto *****/
                almacenAutorConcierto = bd.createObjectStore("autorConcierto", { keyPath: ["idAutor", "idConcierto"] });

                /**** Tabla almacenAlbum ****/
                almacenAlbum = bd.createObjectStore("album", { keyPath: "id", autoIncrement: true });

                /***** Tabla almacenAutorAlbum *****/
                almacenAutorAlbum = bd.createObjectStore("autorAlbum", { keyPath: ["idAutor", "idAlbum"] });

                /**** Tabla almacenPista *****/
                almacenPista = bd.createObjectStore("pista", { keyPath: "id", autoIncrement: true });

                /**** Tabla almacenLista ****/
                almacenLista = bd.createObjectStore("lista", { keyPath: "id", autoIncrement: true });

                /**** Tabla almacenPistaLista ****/
                almacenPistaLista = bd.createObjectStore("pistaLista", { keyPath: ["idPista", "idLista"] });

                /********* ÍNDICES *********/
                mensaje("SE CREAN LOS ÍNDICES");

                almacenAutor.createIndex("por_id", "id", { unique: true });
                almacenAutor.createIndex("por_nombre", "nombre");
                almacenAutor.createIndex("por_email", "email", { unique: true });
                almacenAutor.createIndex("por_password", "password");
                almacenAutor.createIndex("por_fecha_creacion", "fecha_creacion");
                almacenAutor.createIndex("por_origen", "origen");
                almacenAutor.createIndex("por_fondo_perfil", "fondo_perfil");
                almacenAutor.createIndex("por_foto_perfil", "foto_perfil");

                almacenAlbum.createIndex("por_id", "id", { unique: true });
                almacenAlbum.createIndex("por_nombre", "nombre");
                almacenAlbum.createIndex("por_lanzamiento", "lanzamiento");
                almacenAlbum.createIndex("por_caratula", "caratula");

                almacenAutorAlbum.createIndex("por_idAutor", "idAutor");
                almacenAutorAlbum.createIndex("por_idAlbum", "idAlbum");

                almacenConcierto.createIndex("por_id", "id", { unique: true });
                almacenConcierto.createIndex("por_nombre", "nombre");
                almacenConcierto.createIndex("por_latitud", "latitud");
                almacenConcierto.createIndex("por_longitud", "longitud");
                almacenConcierto.createIndex("por_fecha", "fecha");

                almacenAutorConcierto.createIndex("por_idAutor", "idAutor");
                almacenAutorConcierto.createIndex("por_idConcierto", "idConcierto");

                almacenGenero.createIndex("por_id", "id", { unique: true });
                almacenGenero.createIndex("por_nombre", "nombre");

                almacenAutorGenero.createIndex("por_idAutor", "idAutor");
                almacenAutorGenero.createIndex("por_idGenero", "idGenero");

                almacenPista.createIndex("por_id", "id", { unique: true });
                almacenPista.createIndex("por_nombre", "nombre");
                almacenPista.createIndex("por_archivo", "archivo");
                almacenPista.createIndex("por_idAlbum", "idAlbum");

                almacenLista.createIndex("por_id", "id", { unique: true });
                almacenLista.createIndex("por_nombre", "nombre");
                almacenLista.createIndex("por_fecha", "fecha");
                almacenLista.createIndex("por_idAutor", "idAutor");

                almacenPistaLista.createIndex("por_idPista", "idPista");
                almacenPistaLista.createIndex("por_idLista", "idLista");
            };
        }
    </script>
</body>

</html>